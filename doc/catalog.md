# Каталог товаров

Содержимое папки `content/[locale]/catalog` формирует страницы товаров на сайте:
* content/ru/catalog/SLUG — в русской версии;
* content/en/catalog/SLUG — в английской версии, SLUG это то, что попадет в url в конечном итоге.

## Как добавить товар

### Бэкенд сайта
В бэкенде сайта:
1. Создайте товар с основными атрибутами, необходимыми для продажи:
    * Артикул — используется для связки с описанием в Гите.
    * Порядок сортировки.
    * Тип устройства и Тип устройства (EN) — используется в накладной.
    * Заголовок, Подзаголовок товара и Модель — выводится рядом с устройством.
    * Цена.
    * Категория оптовой скидки.
    * Вес товара, кг.
    * Срок отгрузки (раб. дней).
    * Отображается ли в каталоге и поиске.
    * Срок отгрузки под заказ (раб. дней).
    * Снят с продажи, Доступен к продаже, Не участвует в скидках.
    * Категории.
    * Комментарий к заказу, если надо.3. 
4. Не заполняйте или очистите поля «Преимущества товара» и «Описание товара» — это даст движку сигнал, что описание надо брать с Гита.

Поля «slug товара», «Ссылка на Wiki» и всё что ниже, при использовании описания с Гита будут проигнорированы. Поле «Разметка изображения» можно использовать, если надо. В качестве slug будет использоваться имя md-файла в Гите.

### Этот репозиторий в Git
Перейдите в папку нужного языка:
* Английский [content/en/catalog](/content/en/catalog)
* Русский [content/ru/catalog](/content/ru/catalog)

Создайте пустой md-файл и рядом с таким же названием папку под картинки, например:
* `content/ru/catalog/wb-module.md` — файл с будущим текстом.
* `content/ru/catalog/wb-module` — папка под картинки. Сюда сложите картинки весом не больше 3 Мбайт каждая. Ограничений на разрешение картинок нет — движок сам обработает их в нужный размер. Формат картинок может быть `jpg`, `webp`, `png`, выбирайте удобный для вашей задачи.

Путь к картинкам указывать относительный, то есть без косой черты в начале, пример: `wb-module/wb-module.jpg`.
Для названий .md-файлов и картинок использовать латиницу.

Пробелы заменять на подчёркивание `_`. Не использовать тире, скобки, решётки и другие специальные символы.


Ниже шаблон md-файла, удалить лишние пояснения перед использованием:
```
---
article: артикул товара, нужен для связи страницы описания с продуктом в магазине.
cover: главная картинка товара
documentation: ссылка на документацию
meta: SEO описание страницы
keywords: SEO ключевые слова через запятую
images: [
  ["wb-module/wb-module-1.png"],
  ["wb-module/wb-module-2.png"]
]
video: [
  ["https://peertube.wirenboard.com/videolink"],
  ["https://peertube.wirenboard.com/videolink"]
]
use_cases: ["liten_magnit", "techsensor_module_cafe"]
---
::product
#description
Описание самого товара, которое отображается рядом с ценой
#info
## Основные характеристики
::product-section{title="Название секции 1"}
:photo{
  src="URL"
  width="500px"
  float="right"
}
Содержимое секции 1
::
::product-section{title="Название секции 2"}
:photo{
  src="URL"
  width="500px"
  float="right"
}
Содержимое секции 2
::
::
```
Обратите внимание, что при использовании заголовков следует начинать с заголовка второго уровня (`##`) и далее, так как заголовок первого уровня будет автоматически сформирован из содержимого поля `title`.

В тексте можно использовать [компоненты](./components.md).

Изменения станут доступны для всех пользователей после отправки пуллреквеста и вливания утверждённых изменений.


## Предпросмотр при запуске сайта локально

Обычно для предпросмотра достаточно VSCode с плагином, но если вы запускаете сайт локально на компьютере, вот ссылки для предпросмотра: 
- http://localhost:3000/ru/contents/product/SLUG
- http://localhost:3000/en/contents/product/SLUG

`SLUG` в адресе замените на имя файла без расширения, например `wb-my-device`.
