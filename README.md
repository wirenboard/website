# Wiren Board website
Репозиторий содержит в себе контент для сайта https://wirenboard.com.

Инструкции по редактированию контента:
- [Описание синтаксиса](/doc/syntax.md);
- [Партнеры](./doc/partners.md);
- [Интеграторы](./doc/integrators.md);
- [Вакансии](./doc/jobs.md);
- [Список статей](./doc/articles.md).

## Онлайн-редактор
Если вам надо добавить интегратора или внести небольшие исправления в существующие страницы, это удобно делать через веб-интерфейс Github. [Небольшой ролик на Гуглодиске](https://drive.google.com/file/d/1JoCaVtD9-cb1U9cgUcYWeaeCOvMhursl/view?usp=sharing) с примером изменения описания интегратора и отправкой пуллреквеста. Ниже подробно описан каждый шаг.

**Создать файл:**
1. Перейдите в нужную папку и нажмите справа над списком файлов кнопку _Add file_ → _Create new file_.
2. Задайте имя файла и заполните содержимое.

**Изменить файл:**
1. Найдите в репозитории нужный файл и нажмите на него, чтобы посмотреть.
2. Над текстом справа найдите иконку с карандашом «Edit this file» нажмите на неё, что бы внести изменения.

При желании, можете использовать кнопку _Preview_, чтобы посмотреть внесённые изменения. Компоненты, инклюды и специальная резметка отобразится «как есть».

**Сохранение изменений:**
1. Внесите изменения в файл и после этого нажмите справа вверху зелёную кнопку _Commit changes…_.
2. В появившемся окне:
    - в поле Extended description кратко опишите, что вы изменили в файле;
    - снизу выберите _Create a new branch for this commit and start a pull request_;
    - задайте короткое понятное имя ветки из трёх-четырёх слов, разделённых дефисом (-);
    - нажмите кнопку _Propose changes_.
3. В появившейся форме _Open a pull request_ напишите понятный заголовок (title) и добавьте краткое описание изменений (description).
4. В поле _Reviewers_ выберите ревьюверов: matveevrj (замещает aadegtyarev).
5. Отправьте пуллреквест кнопкой _Create pull request_.

Коллеги посмотрят ваши изменения и, если там всё в порядке — утвердят (заапрувят). Вам на email придёт уведомление, а напротив имени ревьювера появится зелёная галочка. Если в ваших изменениях есть ошибки, коллеги оставят комментарии, вам надо будет их поправить.

**Вливание на сайт.** Посе того, как ревьюверы утвердили ваши правки, надо влить изменения на сайт:
1. Откройте ваш пуллреквест.
2. В самом низу страницы найдите кнопку _Squash and merge_.
3. Отредактируйте комментарий, чтобы осталось лаконичное описание изменений.
4. Нажмите кнопку _Merge_.

**Деплой в продакшн.** После вливания изменений (мержа, merge) сайт будет собран и опубликован по адресу https://wirenboard.com. Следить за процессом сборки можно в разделе [Actions](https://github.com/wirenboard/website/actions).

## Офлайн редактор

Предполагается, что у вас установлен Git, редактор VSCode с [плагином подсветки компонентов Nuxt](https://marketplace.visualstudio.com/items?itemName=Nuxt.mdc) и вы умеете этим пользоваться. В VSCode есть простой предпросмотр, но для сложных изменений рекомендуем запускать сайт локально и смотреть страницу целиком с учётом вставленных изображений, компонентов и т.п.

Сам процесс создания новых веток, PR и прочего описан в документе [Процесс разработки проектов Wiren Board с использованием Git](https://github.com/wirenboard/codestyle/blob/master/workflow.md).

**Деплой в продакшн.** После вливания изменений (мержа, merge) сайт будет собран и опубликован по адресу https://wirenboard.com. Следить за процессом сборки можно в разделе [Actions](https://github.com/wirenboard/website/actions).

## Как запустить сайт локально
Запуск сайта в браузере позволит вам видеть все внесенные изменения в реальном времени — страница будет обновляться после каждого сохранения файла. Для этого выполните следующие шаги:

- Клонируйте этот репозиторий:
  ```
  https://github.com/wirenboard/website.git
  ```
- Установите NodeJS. Скачайте и установите [NodeJS](https://nodejs.org/en/download/prebuilt-installer) для вашей операционной системы.
- Установите пакетный менеджер [pnpm](https://pnpm.io/installation). В процессе установки подвтерждайте предложенные варианты.
- Установите зависимости проекта. Перейдите в корневую директорию проекта и выполните команду:
    ```bash
    pnpm install
    ```
- Запустите локальный сервер, выполнив команду:
    ```bash
    pnpm run dev
    ```

Просмотр будет доступен в браузере по адресу `http://localhost:3000`. Не забудьте ввести в адресную строку url редактируемой страницы, например `http://localhost:3000/ru/pages/articles`.

Отображаться будет только контент, без остального содержимого сайта (навигации, футера и пр.).

![Пример страницы](doc/example.png)
