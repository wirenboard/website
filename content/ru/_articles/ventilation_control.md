---
title: Управление вентиляцией. Из чего состоит и как управлять
cover: /img/articles/ventilation_control.webp
date: 2023-04-03
category: hardware_selection
---

## Введение

:photo{
    src="/img/articles/ventilation_control/cover.png"
    float="right"
}

Вентиляция — обязательная система всех зданий: от жилых домов до офисов и заводов. В большинстве случаев применяют механическую вентиляцию с помощью вентиляторов.

Здесь мы кратко рассмотрим: из чего состоит вентиляция, какое оборудование выбрать для управления и как пользователь может ей управлять.

По-сути текущая статья — это краткий пересказ цикла статей на Хабре, поэтому за подробностями обращайтесь к ним:

1. [Управление вентиляцией: собираем, интегрируем, экономим](https://habr.com/ru/company/wirenboard/blog/702444/)
2. [Управление вентиляцией. Электронагрев воздуха. Эссе про технику и деньги](https://habr.com/ru/company/wirenboard/blog/705900/)
3. [Управление вентиляцией. Типовые алгоритмы и их реализация на wb-rules](https://habr.com/ru/company/wirenboard/blog/715288/)

## Устройство вентиляции

:photo{
    src="/img/articles/ventilation_control/ventilation_1.jpg"
    caption="Устройство вентиляционной установки"
    float="right"
}

Обычная приточная вент. установка, которая применяется в частных домах, состоит из элементов:

1. Поворотная заслонка — используется для перекрытия потока воздуха, когда установка выключена. 
2. Поворотный привод для управления заслонкой, в качестве опций может содержать концевые выключатели. 
3. Воздушный фильтр. 
4. Дифференциальные реле давления. 
5. Калорифер. 
6. Вентилятор.

Управление вентиляционной установкой представляет собой более сложную задачу, чем простое включение и выключение вентиляторов, и подразумевает автоматизацию некоторых функций:

1. Управление вентиляторами. 
2. Открытие и закрытие заслонки. 
3. Контроль засоренности фильтра. 
4. Управление нагревом воздуха. 
5. Контроль за нештатными ситуациями. 
6. Информирование пользователя о состоянии системы и нештатных ситуациях.

Эти функции реализованы в «коробочных» установках вентиляции, которые продаются с собственным блоком управления.
Если блок управления работает по протоколу Modbus RTU — возможно, он уже [поддерживается контроллером Wiren Board](https://wirenboard.com/wiki/Supported_devices).

## Оборудование для автоматизации

Ниже мы рассмотрим автоматизацию системы вентиляции без встроенного блока управления, например, если вы собираете её сами.

Для примера возьмём небольшую вентиляционную установку с водяным нагревом для частного дома. Обычно она состоит из приточного и вытяжного вентилятора и водяного калорифера для нагрева приточного воздуха.

Для автоматизации такой системы можно обойтись двумя модулями WB-MR6c v.3, двумя датчиками DS18B20 и контроллером Wiren Board 7.

Структура системы автоматизации в таком случае может иметь следующий вид.

:photo{
    src="/img/articles/ventilation_control/scheme.png"
    caption="Структурная схема системы автоматизации вентиляции с водяным нагревом воздуха"
    float="center"
}

В вытяжной установке автоматика управляет вентилятором и заслонкой, а также следит за состоянием фильтра с помощью дифференциальных датчиков давления. В приточной — дополнительно к этому автоматика регулирует нагрев воздуха.

Контроллер Wiren Board выступает в качестве «мозга» системы и в нем выполняются алгоритмы управления.

Модули WB-MR6C v.3 используются для ввода дискретных сигналов и управление нагрузкой. Они имеют 7 входов типа «сухой контакт». И 6 релейных выходов на 250V AC, до 16А на резистивной нагрузке. Этого достаточно для бытовых вент. установок.

Для измерения температуры используются датчики DS18B20 с 1-wire интерфейсом. Использовать датчики удобно тем, что их можно соединять общим шлейфом и подключать напрямую к контроллеру Wiren Board. Для этого у него есть специальные входы W1 и W2.

## Алгоритмы

Программы для контроллеров Wiren Board пишутся на языке [wb-rules](https://wirenboard.com/wiki/Wb-rules), процесс создания алгоритмов и сами алгоритмы подробно описаны в статье [Управление вентиляцией. Типовые алгоритмы и их реализация на wb-rules](https://habr.com/ru/company/wirenboard/blog/715288/).

Взаимодействие с пользователем может быть реализовано с помощью встроенного веб-интерфейса контроллера Wiren Board. В веб-интерфейсе конфигурируются подключаемые устройства, пишутся скрипты управления и создаются графические панели управления. Все действия подробно описаны в документации и не требуют специальной подготовки пользователей.

:gallery{
    :data='[
        ["/img/articles/ventilation_control/control_1.png", "Пример панели управления системой вентиляции в веб-интерфейсе контроллера Wiren Board"],
        ["/img/articles/ventilation_control/control_2.png", "Виджеты устройств для управления вентиляцией в веб-интерфейсе контроллера Wiren Board"]
    ]'
}

Если функций веб-интерфейса недостаточно, например, нужно сделать голосовое управление, то всегда можно интегрировать сторонние системы, такие как Алиса от Яндекс или Салют от Сбер.

Кроме того всегда можно использовать SCADA системы, например, Grafana, Home Assistant, MasterSCADA и др. Их использование с контроллером Wiren Board также описано в документации.

## Полезные ссылки

- [Статьи о подборе оборудования](https://wirenboard.com/ru/pages/sh-articles/)
