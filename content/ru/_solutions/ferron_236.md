---
title: 'АСУ ТП  и АСДУ автономной котельной санатория'
cover: /img/solutions/ferron_236.webp
date: 2025-01-24
category: industrial_dispatching_monitoring
---

## Почему Wiren Board

Возможности удаленной настройки и программирования контроллера, без использования специальных устройств или ПО, определило наш выбор.

_Антон Степанов, генеральный директор ООО "Феррон-строй"_

## О компании

ООО «[Феррон-строй](https://ferrongroup.ru/)» больше двадцати лет занимается котельными:  проектирует, строит/монтирует, проводит пусконаладочные работы и дальнейшее сервисное обслуживание. Наибольшим спросом пользуются автономные котельные, отапливающие одно здание. Мощностью они, как правило, в несколько мегаватт. И все это современные котельные, без обслуживающего персонала, с системой автоматизированного управления технологическим процессом (АСУ ТП) и автоматизированной системой диспетчерского управления (АСДУ). Их основная нагрузка — системы отопления и ГВС здания.

## Задачи проекта

Разработка и внедрение АСУ ТП и АСДУ автономной газовой отдельно стоящей котельной здания санатория, мощностью 2 МВт. 

:photo{
    src="/img/solutions/ferron_236/01.jpg"
    caption="Котельная и строящийся (на момент съемки) санаторий"
}

Котельная работает без постоянного обслуживающего персонала. Потребители тепла \- системы отопления, вентиляции и горячего водоснабжения (ГВС) санатория.

## Решения

АСУ ТП и АСДУ построены на контроллере [Wiren Board 7](https://wirenboard.com/ru/product/wiren-board-7/) и его модулях расширения.

Использовано оборудование:

- [Wiren Board 7](https://https://wirenboard.com/ru/product/wiren-board-7/) - 1 шт.;
- [WBIO-DI-WD-14](https://wirenboard.com/ru/product/WBIO-DI-WD-14/) - 2 шт.;
- [WBIO-DO-SSR-8](https://wirenboard.com/ru/product/WBIO-DO-SSR-8/) - 1 шт.
- [WBIO-DO-R1G-16](https://wirenboard.com/ru/product/WBIO-DO-R1G-16/) - 1 шт.
- [WB-MR6C v.2](https://wirenboard.com/ru/product/WB-MR6C_v2/) - 1 шт.
- [WB-MAI6](https://wirenboard.com/ru/product/wb-mai6/) - 2 шт.
- [WB-MAO4](https://wirenboard.com/ru/product/WB-MAO4/) - 1 шт.
- [WB-MAP3ET](https://wirenboard.com/ru/product/WB-MAP3ET/) - 13 шт.

:gallery{
    :data='[
        ["/img/solutions/ferron_236/06.jpg", "Щит автоматики котельной"],
        ["/img/solutions/ferron_236/07.jpg"]
    ]'
}

Вся логика реализована на движке правил wb-rules, без использования стороннего программного обеспечения. Интерфейс пользователя выполнен средствами веб\-интерфейса контроллера.

### Контроль загазованности

Контроль загазованности природным и угарным газом осуществляется стационарным сигнализатором СТГ-1-1 производства ФГУП "СПО "Аналитприбор". Его выходные сигналы (сухой контакт) подключены на входы релейного модуля [WB-MR6C v.2](https://wirenboard.com/ru/product/WB-MR6C_v2/). Также на входы этого модуля подключены:

- выход "Пожар в котельной" системы АПС;  
- реле максимального давления газа;  
- кнопка "Закрыть главный газовый клапан".  

К выходу релейного модуля подключен главный газовый клапан (ГГК). Алгоритм закрытия ГГК реализован при помощи [mapping-матрицы](https://wirenboard.com/wiki/index.php?title=I/O_Mapping_Matrix) самого модуля \- при размыкании контактов на любом из входов модуля ГГК будет закрыт. Эта логика работает без контроллера.

Также ГГК будет закрыт при отключении питания модуля. Информация о состоянии входов и выходов модуля считываются контроллером по Modbus RTU.

Открытие ГГК реализовано скриптом на wb-rules \- клапан открывается (при нажатии физической кнопки или элемента в веб\-интерфейсе) только если все устройства безопасности позволяют это сделать.

### Управление насосами

В котельной шестнадцать насосов: тринадцать циркуляционных, два подпиточных и дозирующий.

:photo{
    src="/img/solutions/ferron_236/03.jpg"
    caption="Циркуляционные насосы"
}

Дозирующий оснащен собственной автоматикой и контроллер с него считывает только сигнал неисправности (сухой контакт, подключен к многоканальному модулю дискретного ввода [WBIO-DI-WD-14](https://wirenboard.com/ru/product/WBIO-DI-WD-14/)). У всех остальных насосов контролируются электрические параметры: напряжения и токи пофазно и коэффициент мощности. 

Для измерений используются  [WB-MAP3ET](https://wirenboard.com/ru/product/WB-MAP3ET/) \- измерители параметров электрической энергии. Написан скрипт, который на основании полученных данных обеспечивает защиту двигателей насосов:

- по максимальному и минимальному току;   
- по асимметрии токов;  
- по недопустимому напряжению;  
- от неполнофазной работы;  
- от неверного чередования фаз.  

Также на основании значения коэффициента мощности определяются гидравлические проблемы насоса (работа на закрытую задвижку, заклинивание рабочего колеса…).

Большая часть насосов зарезервирована. Написан скрипт, который включает резервный насос при неисправности основного . Для равномерной выработки моточасов насосами каждые 24 часа основной насос становится резервным и наоборот.

Те насосы, которые не имеют "горячего" резерва, работают под управлением скрипта "автоматического повторного включения". При неисправности насоса производится лимитированное количество попыток его включения с таймаутом. Если количество пусков исчерпано \- насос блокируется до его ручного рестарта. Если насос непрерывно отработает заданное время, счетчик его повторных включений сбрасывается.

Подробнее о защите насосов при помощи WB-MAP написано в [статье](https://habr.com/ru/companies/wirenboard/articles/856968/) на Хабре.  

### Управление подпиткой

В котельной есть бак запаса воды. Наполнение бака производится автоматически.

:photo{
    src="/img/solutions/ferron_236/08.jpg"
    caption="Бак запаса воды и подпиточные насосы"
}

Используются четыре датчика уровня (сухой контакт):  

- верхний аварийный (перелив);  
- верхний рабочий (закрытие крана наполнения бака);  
- нижний рабочий (открытие крана наполнения бака);  
- нижний аварийный (бак пуст).  

Контакты заведены на WBIO-DI-WD-14, кран подключен к тому же релейному модулю, который управляет ГГК.

Подпиточные насосы поддерживают требуемое давление в системе отопления с гистерезисом. Датчик давления \- аналоговый, 4-20 мА, подключен к 12-канальному модулю аналогового ввода [WB-MAI6](https://wirenboard.com/ru/product/wb-mai6/).

### Управление температурой теплоносителя и горячей воды

Температура в контурах отопления поддерживается по отопительному графику, в зависимости от температуры наружного воздуха. В контуре ГВС температура поддерживается постоянной, с гистерезисом.

Для изменения температуры используются трехходовые вентили с электроприводом, подмешивающие "обратку" контура в его "подачу" (для контура ГВС речь идет о греющей воде, т.е. до теплообменника). Больше подмес \- ниже температура.

Датчики температуры \- термосопротивления, подключенные по трехпроводной схеме к WB-MAI6 (при трехпроводной схеме модуль становится шестиканальным).

Для управления эл. приводами вентилей используется 8-канальный модуль дискретного вывода  [WBIO-DO-SSR-8](https://wirenboard.com/ru/product/WBIO-DO-SSR-8/). Коммутация в этом модуле осуществляется оптореле, что позволяет формировать короткие импульсы управления и снимает проблему с ресурсом на количество переключений, актуальную для механических реле.

### Управление газовыми котлами

В котельной установлены четыре конденсационных котла Thermex Coloss M со встроенной панелью управления. Котлы оснащены модулируемыми горелками и самостоятельно поддерживают необходимую температуру.

:photo{
    src="/img/solutions/ferron_236/02.jpg"
    caption="Котлы Thermex Coloss M"
}

Уставка температуры котлам задается напряжением 0-10В, формируемым 4-канальным модулем аналогового вывода [WB-MAO4](https://wirenboard.com/ru/product/WB-MAO4/). Уставка поддерживается на несколько градусов выше самой высокой температуры, требуемой в контурах \- потребителях тепла.  

При низком давлении теплоносителя и/или низком давлении газа формируется сигнал блокировки котлов (сухой контакт). Для этого используется модуль WBIO-DO-SSR-8.

При авариях панель котла формирует дискретный сигнал 230В "Авария", который считывается WBIO-DI-WD-14 через промежуточное реле.  

Котлы работают совместно, в каскаде. Для этого скриптом вычисляется интеграл отклонения температуры на выходе каскада от уставки по времени.  При превышении значения интеграла уставки включается следующий котел. Аналогично и в обратную сторону. Котлы, находящиеся в состоянии "Авария", не учитываются. Также производится ротация котлов для обеспечения равномерной выработки их моточасов.

Перед розжигом котла запускается котловой насос. Розжиг котла производится после выхода насоса на рабочий режим, который определяется по потребляемым токам и коэффициенту мощности. После остановки котла производится выбег насоса для охлаждения теплообменника котла.

### Интерфейс пользователя

В котельной, на двери щита автоматики, и в помещении с постоянным присутствием персонала (помещение охраны), размещены [HMI-панели](https://wirenboard.com/ru/product/YC-SM08P/) с пользовательским интерфейсом. Сам пользовательский интерфейс разработан средствами веб\-интерфейса контроллера. Связь контроллера с панелями осуществляется по Ethernet сети предприятия.

:photo{
    src="/img/solutions/ferron_236/05.jpg"
    caption="Органы управления котельной"
}

Светозвуковая сигнализация в котельной осуществляется при помощи оповещателя, установленного снаружи на здании котельной и подключенного непосредственно к контроллеру. 

В помещении охраны для звуковой сигнализации работает программа [MQTT Alert for IOT](https://play.google.com/store/apps/details?id=gigiosoft.MQTTAlert), установленная на HMI-панели.  Надо отметить, что визуальные средства этой программы не используются, она только проигрывает различные рингтоны и файлы при изменении MQTT топиков, которые формируются скриптами. Также определенный рингтон будет проигрываться при отсутствии связи с контроллером.  

Специалисты предприятия, ответственные за котельную, также могут открыть веб\-интерфейс контроллера со своих мобильных устройств. Для этого используется сервис [Wiren Board Cloud](https://wirenboard.com/ru/pages/cloud/), который обеспечивает безопасное удаленное подключение к контроллеру. Аварийно-предупредительные сообщения от котельной этим сотрудникам поступают в специальную группу мессенджера Telegram. Доставка сообщений в мессенджер не гарантирована, поэтому сотрудник охраны, увидев сообщение на своей панели, должен продублировать его доступными способами инженерному персоналу, если не видит этого сообщения в Telegram-группе, или не видит реакции на него там же. На это счет есть специальные инструкции.

### Журналирование событий

Все события, происходящие в котельной, на основании которых меняются режимы работы оборудования, заносятся в системный журнал сервиса wb-rules с отметками времени. По нему всегда можно понять, что и в какой последовательности происходило.  

### Ручной режим управления

Каждую единицу оборудования котельной (кроме устройств, обеспечивающих безопасность) можно переключить на ручной режим управления. Функции автоматического управления этим устройством блокируются, о чем делается запись в системном журнале. Сделано это для проведения пусконаладочных работ и сервисного обслуживания.

:photo{
    src="/img/solutions/ferron_236/04.jpg"
    caption="Удобства для сервисного персонала"
}

:include{path="/_solutions/includes/footer"}
